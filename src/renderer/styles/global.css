/* ── No-animations mode ── */
.no-animations,
.no-animations *,
.no-animations *::before,
.no-animations *::after {
  animation-duration: 0s !important;
  animation-delay: 0s !important;
  transition-duration: 0s !important;
  transition-delay: 0s !important;
}

/* ── No-effects mode ── */
.no-effects .lyrics-line.active {
  text-shadow: none !important;
}
.no-effects .play-all-btn,
.no-effects .play-all-btn:hover,
.no-effects .btn-primary,
.no-effects .btn-primary:hover,
.no-effects .disco-filter.active {
  box-shadow: none !important;
}
.no-effects .card-play-btn {
  box-shadow: none !important;
}
.no-effects .toast,
.no-effects .context-menu,
.no-effects .context-submenu {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}
.no-effects .now-playing-bar {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}
.no-effects .sidebar {
  backdrop-filter: none !important;
  -webkit-backdrop-filter: none !important;
}

*, *::before, *::after { box-sizing: border-box; margin: 0; padding: 0; }

html, body {
  height: 100%;
  overflow: hidden;
  font-family: var(--font);
  background: var(--bg-base);
  color: var(--text-primary);
  user-select: none;
  -webkit-font-smoothing: antialiased;
}

/* ── Scrollbar ── */
::-webkit-scrollbar { width: 6px; }
::-webkit-scrollbar-track { background: transparent; }
::-webkit-scrollbar-thumb {
  background: rgba(255, 255, 255, 0.08);
  border-radius: 3px;
  transition: background var(--transition);
}
::-webkit-scrollbar-thumb:hover { background: rgba(255, 255, 255, 0.18); }

/* ── Light-mode scrollbar overrides ── */
[data-theme="light"] ::-webkit-scrollbar-thumb { background: rgba(0, 0, 0, 0.12); }
[data-theme="light"] ::-webkit-scrollbar-thumb:hover { background: rgba(0, 0, 0, 0.22); }

/* ═══════ App Layout ═══════ */
#app {
  display: flex;
  position: fixed;
  top: var(--titlebar-height);
  left: 0; right: 0;
  bottom: var(--now-playing-height);
  overflow: hidden;
}
#app.no-player { bottom: 0; }

/* ═══════ Main Content ═══════ */
#main-content {
  flex: 1;
  overflow-y: auto;
  overflow-x: hidden;
  background:
    radial-gradient(ellipse at 20% 0%, var(--bg-gradient-1) 0%, transparent 60%),
    radial-gradient(ellipse at 80% 100%, var(--bg-gradient-2) 0%, transparent 50%),
    linear-gradient(180deg, var(--bg-surface-top) 0%, var(--bg-base) 400px);
    scrollbar-gutter: stable;
  position: relative;
}

.hidden { display: none !important; }

/* ── Text truncation (shared by 25 selectors across the app) ── */
.np-title, .np-artist,
.track-title, .track-card .card-title, .track-card .card-artist,
.album-card-name, .album-card-meta,
.video-card-name, .video-overlay-title,
.lib-card-name, .lib-card-meta,
.playlist-name, .queue-item-title,
.top-song-title, .top-song-artist, .top-artist-name,
.trending-video-title, .similar-artist-name,
.artist-result-name, .quick-pick-card span,
.spotify-file-name, .spotify-track-title, .spotify-track-artist,
.picker-item span:first-of-type, .context-sub-item {
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

/* ── Clickable artist links (global — used in track rows, now playing, queue, cards) ── */
.artist-link {
  cursor: pointer;
  transition: color var(--transition);
  text-decoration: none;
}
.artist-link:hover {
  color: var(--accent);
  text-decoration: underline;
}

.btn-primary {
  display: inline-flex;
  align-items: center;
  gap: 8px;
  padding: 10px 28px;
  border: none;
  border-radius: 500px;
  background: var(--accent);
  color: #000;
  font-size: 14px;
  font-weight: 700;
  font-family: var(--font);
  cursor: pointer;
  transition: transform var(--transition-bounce), background var(--transition), box-shadow var(--transition);
  box-shadow: var(--shadow-accent-sm);
}
.btn-primary:hover {
  transform: scale(1.04);
  background: var(--accent-hover);
  box-shadow: 0 6px 24px var(--accent-glow);
}

[data-theme="light"] .btn-primary { color: #fff; }

/* ═══════ Responsive ═══════ */
@media (max-width: 1000px) {
  .playlist-hero-name { font-size: 32px; }
  .playlist-hero-cover { width: 150px; height: 150px; }
  .artist-name { font-size: 40px !important; }
}
